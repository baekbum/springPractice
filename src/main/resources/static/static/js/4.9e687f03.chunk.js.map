{"version":3,"sources":["../node_modules/react-bootstrap/esm/Image.js","component/similars/SimilarItem.tsx"],"names":["Image","PropTypes","string","bool","React","forwardRef","_ref","ref","bsPrefix","className","fluid","rounded","roundedCircle","thumbnail","props","_objectWithoutPropertiesLoose","useBootstrapPrefix","classes","classNames","createElement","_extends","displayName","defaultProps","SimilarItem","index","obj","dispatch","useDispatch","problemsObj","useSelector","state","problemsReducer","similarsObj","similarsReducer","targetIndex","isActiveReducer","useState","problemList","setProblemList","similarList","setSimilarList","assignObj","useCallback","Object","assign","addProblem","newObj","undefined","pList","splice","sList","dispatchAct","changeProblem","tempObj","actions","useEffect","style","display","width","alignItems","justifyContent","problemType","padding","unitName","variant","onClick","bind","src","problemURL"],"mappings":"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","file":"static/js/4.9e687f03.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nexport var propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nvar defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nvar Image = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      fluid = _ref.fluid,\n      rounded = _ref.rounded,\n      roundedCircle = _ref.roundedCircle,\n      thumbnail = _ref.thumbnail,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"fluid\", \"rounded\", \"roundedCircle\", \"thumbnail\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  var classes = classNames(fluid && bsPrefix + \"-fluid\", rounded && \"rounded\", roundedCircle && \"rounded-circle\", thumbnail && bsPrefix + \"-thumbnail\");\n  return /*#__PURE__*/React.createElement(\"img\", _extends({\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref\n  }, props, {\n    className: classNames(className, classes)\n  }));\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Button, Image } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport '../../css/similars/SimilarItem.scss';\r\nimport * as actions from '../../action/Action';\r\nimport type * as AP from '../../action/types/ActionProps';\r\nimport type * as S from '../../store/Store';\r\n\r\ntype ASelector = AP.jsonData[] | undefined;\r\ntype NSelector = number | undefined;\r\n\r\ntype props = {\r\n    index: number;\r\n    obj: AP.jsonData;\r\n};\r\n\r\ntype newObject = {\r\n    pList: AP.jsonData[];\r\n    sList: AP.jsonData[];\r\n};\r\n\r\ntype assignObj = {\r\n    (): newObject;\r\n};\r\n\r\ntype addProblem = {\r\n    (idx: number, obj: AP.jsonData): void;\r\n};\r\n\r\ntype changeProblem = {\r\n    (idx: number, obj: AP.jsonData): void;\r\n};\r\n\r\ntype dispatchAct = {\r\n    (pList: AP.jsonData[], sList: AP.jsonData[]): void;\r\n}\r\n\r\nconst SimilarItem = ({index, obj}: props) => {\r\n    const dispatch = useDispatch();\r\n    const problemsObj = useSelector<S.reducer, ASelector>(state => state?.problemsReducer?.problemsObj);\r\n    const similarsObj = useSelector<S.reducer, ASelector>(state => state?.similarsReducer?.similarsObj);\r\n    const targetIndex = useSelector<S.reducer, NSelector>(state => state?.isActiveReducer?.index);\r\n    //const targetObj = useSelector<S.reducer, OSelector>(state => state.isActiveReducer?.obj);\r\n    const [problemList, setProblemList] = useState<AP.jsonData[]>([]);\r\n    const [similarList, setSimilarList] = useState<AP.jsonData[]>([]);\r\n\r\n    const assignObj = useCallback<assignObj>(() => {\r\n        const pList = Object.assign([], problemList);\r\n        const sList = Object.assign([], similarList);\r\n\r\n        return { 'pList': pList, 'sList': sList };\r\n    },[problemList, similarList]);\r\n\r\n    const addProblem = useCallback<addProblem>((index, obj) => {\r\n        const newObj = assignObj();\r\n        \r\n        if (newObj !== undefined && targetIndex !== undefined) {\r\n            newObj.pList.splice(targetIndex + 1, 0, obj);\r\n            newObj.sList.splice(index, 1);\r\n\r\n            dispatchAct(newObj.pList, newObj.sList);\r\n        }\r\n        // eslint-disable-next-line\r\n    },[dispatch, problemList, similarList, targetIndex]);\r\n\r\n    const changeProblem = useCallback<changeProblem>((index, obj) => {\r\n        const newObj = assignObj();\r\n\r\n        if (newObj !== undefined && targetIndex !== undefined) {\r\n            const tempObj: AP.jsonData = newObj.pList[targetIndex];\r\n\r\n            newObj.pList[targetIndex] = newObj.sList[index];\r\n            newObj.sList[index] = tempObj;\r\n\r\n            dispatchAct(newObj.pList, newObj.sList);\r\n            dispatch(actions.showSimilars(targetIndex, obj));\r\n        }        \r\n        // eslint-disable-next-line\r\n    },[targetIndex, problemList, similarList]);\r\n\r\n    const dispatchAct = useCallback<dispatchAct>((pList, sList) => {\r\n        dispatch(actions.updateProblems(pList));\r\n        dispatch(actions.updateSimilars(sList));\r\n        // eslint-disable-next-line\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        problemsObj ? setProblemList(problemsObj) : setProblemList([]);\r\n        similarsObj ? setSimilarList(similarsObj) : setSimilarList([]);\r\n\r\n    },[problemsObj, similarsObj]);\r\n\r\n    return (\r\n        <div className='similar-item-container'>\r\n            <div className='header'>\r\n                <div style={{display: 'flex', width: '12%', alignItems: 'center', justifyContent: 'center'}}>\r\n                    <span className='problem-type'>{obj.problemType}</span>\r\n                </div>\r\n                <div style={{width: '88%', padding: '1em', display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>\r\n                    <div>\r\n                        <span className='unit-name'>{obj.unitName}</span>\r\n                    </div>\r\n                    <div>\r\n                        <Button variant=\"outline-primary\" className='similars-btn' onClick={addProblem.bind(this, index, obj)}>추가</Button>\r\n                        <Button variant=\"outline-primary\" className='delete-btn' onClick={changeProblem.bind(this, index, obj)}>교체</Button>    \r\n                    </div>                    \r\n                </div>\r\n            </div>\r\n            <div className='content'>\r\n                <div style={{display: 'flex', width: '12%', justifyContent: 'center'}}>\r\n                    <span className='index'>{index + 1}</span>\r\n                </div>\r\n                <div style={{width: '88%', padding: '1em'}}>\r\n                    <Image src={obj.problemURL} rounded />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SimilarItem;"],"sourceRoot":""}